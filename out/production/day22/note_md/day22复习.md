### 反射

#### 一、类的加载

* 1.类的加载过程：要使用类就需要加载类
    * 加载 --> 连接（验证--准备（对类变量设置默认初始值，给静态常量直接赋值）--解析）--> 初始化（对类变量设置初始化值）
    
* 2.什么操作会执行类的初始化
    * ①运行main方法，main方法所在的类会进行初始化
    * ②使用类的静态成员（类变量、类方法）会导致类的初始化
    * ③new关键字创建对象时，会导致初始化
    * ④子类初始化，导致父类初始化
    * ⑤反射使用类的字节码对象时
    
* 3.什么不会导致导致类的初始化
    * ①使用类的静态常量
    * ②使用子类继承父类的静态成员时，仅执行父类的初始化，子类不初始化
    * ③仅使用类的类型来创建变量 Student s;Student[] arr;
    
* 4.类的加载器
    * 类通过加载器完成加载
        * ① 启动类加载器Bootstrap Class Loader
            * 加载jre核心类库，c++编写
        * ②扩展类加载器 Ext Class Loader
            * 加载jre/ext的类，Java编写
        * ③系统类加载器（应用类加载器）Application Class Loader
            * 加载classpath路径下的类，Java编写
        * ④自定义加载器
            * 用于加载指定目标的class，Java编写

* 5.双亲委派机制
    * 当低级的类加载器要加载请求时，会向上级加载器请求询问是否加载过，依次递归，如果没有加载，依次从最高级类加载器询问是否可以加载，
        知道可以加载的类加载器将类加载                                    
    * 好处：
        * ①防止类的重复加载
        * ②安全需要    
        
#### 二、反射

* 1.java.lang.class
    * 类加载成功后，会在内存中创建一个类的字节码文件对象，这个对象就是class类的实例，这个对象封装了类的详细信息
        那么我们就可以通过这个字节码对象使用这个类，这种方式就是反射。

* 2.Class类的对象获取方式
    * ①类名.class 任意Java类型都支持此方式
    * ②对象.getClass()
    * ③Class.forName("类的全路径名称");
    * ④类加载器对象.loaderClass("类的全路径名称");        
    
* 3.反射的使用
    * ①获取类的信息：任意信息
    * ②使用构造器创建对象
    * ③使用属性赋值
    * ④调用方法
    * ⑤使用注解
        